## 拥塞基本定义
### 拥塞的情况
![输入图片说明](/imgs/2025-09-18/BBudinJn2s2Lz8Eg.png)总结
拥塞是不可避免的，流量控制是解决拥塞的关键
### 公平性有利于设计拥塞控制
![输入图片说明](/imgs/2025-09-18/Dphl7bM1AsV9ma65.png)示意图

方案一保证了吞吐量，但是方案二在第二条链路上保证了公平性，设计拥塞时要提前达成公平性

![输入图片说明](/imgs/2025-09-18/7uSqvVPRANRCjw1L.png)常用的公平方法——最大最小原则

简单来说就是将最大流最小化，即不能通过减小一个小流的速率来增大一个比他大的流的速率，本质上为共享一个链路的瓶颈，上述情况的方案二就是在最大最小原则下的速率分配情况

![输入图片说明](/imgs/2025-09-18/oyHfz87EVB0Hbnda.png)以单链路为例的一个分配例子

先根据输入链路数量与输出链路速率平均分配，然后从速率最小的输入链路开始，如果其速率小于分配速率，则只分配给其对应的速率，剩下的速率再平分给剩下的链路，然后再考虑次小，如果超过了分配的速率，则只分配给其平均速率，以此类推

### 阻塞控制的目标
1. 实现高吞吐量
2. 实现公平性，通过最大最小原则实现
3. 实现对网络情况的快速反应
4. 实现分布式控制

## 拥塞控制基本方法

### 基于网络的流量控制
需要注意的一点是之前提到过的（加权）公平队列确实可以控制每个链路对应的发送速率，但是不能反馈到输入链路的源以控制他们该以什么速率来发送数据，因此实现拥塞控制时需要来自路由器的显示反馈用于指示网络中的拥塞。通常可以将网络中拥塞的情况如输出链路的剩余流量大小、丢包情况等，通过搭乘要到达某一端点的包来反馈到该端点，端主机可以自由的决定如何处理网络中存在拥塞的情况，如减小流量、实行最大最小公平性等
![输入图片说明](/imgs/2025-09-18/lXjFm32AtS0C8wXv.png)示意图

### 基于端主机的流量控制
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTEwODIxMjE1MjYsNTA0NDQyMTM4LDczOD
IzMTIwMiwtMTcyOTI2MzU4NCwtMTc1MjY4MzYyOCwtMTExNTcx
MjcxNywtMTQzMTczNDY1OSwxMzM3ODE4ODg4XX0=
-->