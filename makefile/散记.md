### 规则
规则是makefile书写的核心，运行规则如下

1.  如果这个工程没有编译过，那么我们的所有c文件都要编译并被链接。
    
2.  如果这个工程的某几个c文件被修改，那么我们只编译被修改的c文件，并链接目标程序。
    
3.  如果这个工程的头文件被改变了，那么我们需要编译引用了这几个头文件的c文件，并链接目标程序。

书写规则如下：
```
target ... : prerequisites ...
    recipe
    ...
    ...
```
**target**
可以是一个object file（目标文件），也可以是一个可执行文件，还可以是一个标签（label）。对于标签这种特性，在后续的“伪目标”章节中会有叙述。

**prerequisites**
生成该target所依赖的文件和/或target。

**recipe**
该target要执行的命令（任意的shell命令）。

这是一个文件的依赖关系，也就是说，target这一个或多个的目标文件依赖于prerequisites中的文件，其生成规则定义在command中。说白一点就是说:

prerequisites中如果有一个以上的文件比target文件要新的话，recipe所定义的命令就会被执行。

### 变量
为了防止在项目更改时需要在makefile的相关文件列表进行大范围的更改（并且这一更改操作十分容易有遗漏！），可以通过变量定义一系列文件列表，如：

<!--stackedit_data:
eyJoaXN0b3J5IjpbLTIxNTg1MjIxMl19
-->